# æª”æ¡ˆåç¨±ï¼šday1.py
import streamlit as st
import pandas as pd
from utils import get_gmap_link # åŒ¯å…¥å‰›å‰›å¯«å¥½çš„å·¥å…·

def show():
    st.header("âœˆï¸ Day 1: å•Ÿç¨‹å‰å¾€é‡‘æ¾¤")
    
    # --- é£›æ©Ÿ ---
    with st.container(border=True):
        st.markdown("### ğŸ›« åœ‹æ³°èˆªç©º CX530")
        col1, col2 = st.columns(2)
        col1.write("12:00 TPE èµ·é£›")
        col2.write("15:35 NGO æŠµé”")

    # --- Step 1: æ©Ÿå ´åˆ°åå¤å±‹ (é›»è»Š) ---
    st.subheader("1ï¸âƒ£ æ©Ÿå ´ â” åéµåå¤å±‹ç«™")
    
    # ç´…è‰²æé†’
    st.warning("âš ï¸ **é‡è¦æé†’ï¼š** æŠµé”åå¤å±‹ç«™å¾Œï¼Œå‹™å¿…æ–¼ **å·´å£«ç™¼è»Šå‰ 30 åˆ†é˜** è‡³åéµå·´å£«ä¸­å¿ƒä»˜æ¬¾å–ç¥¨ï¼")
    
    st.info("ğŸ’¡ æ­ä¹˜ **åéµé›»è»Š (Meitetsu Line)** å‰å¾€å¸‚å€")
    
    # æ™‚åˆ»è¡¨ (4æ¬„)
    with st.expander("ğŸš† é»æˆ‘çœ‹ï¼šåéµé›»è»Šæ™‚åˆ»è¡¨ (16:00-18:00)", expanded=False):
        st.caption("å»ºè­°æ­ä¹˜ Î¼-Sky (+450å††) æˆ– ç‰¹æ€¥ã€‚")
        schedule_data = [
             {"ç™¼è»Š": "16:07", "æŠµé”": "16:35", "æ­ä¹˜æ™‚é–“": "28åˆ†", "è»Šç¨®": "Î¼-Sky"},
             {"ç™¼è»Š": "16:17", "æŠµé”": "16:54", "æ­ä¹˜æ™‚é–“": "37åˆ†", "è»Šç¨®": "ç‰¹æ€¥"},
             {"ç™¼è»Š": "16:21", "æŠµé”": "17:10", "æ­ä¹˜æ™‚é–“": "49åˆ†", "è»Šç¨®": "æº–æ€¥"},
             {"ç™¼è»Š": "16:36", "æŠµé”": "17:05", "æ­ä¹˜æ™‚é–“": "29åˆ†", "è»Šç¨®": "Î¼-Sky"},
             {"ç™¼è»Š": "16:44", "æŠµé”": "17:24", "æ­ä¹˜æ™‚é–“": "40åˆ†", "è»Šç¨®": "ç‰¹æ€¥"},
             {"ç™¼è»Š": "16:51", "æŠµé”": "17:40", "æ­ä¹˜æ™‚é–“": "49åˆ†", "è»Šç¨®": "æº–æ€¥"},
             {"ç™¼è»Š": "17:06", "æŠµé”": "17:35", "æ­ä¹˜æ™‚é–“": "29åˆ†", "è»Šç¨®": "Î¼-Sky"},
             {"ç™¼è»Š": "17:14", "æŠµé”": "17:54", "æ­ä¹˜æ™‚é–“": "40åˆ†", "è»Šç¨®": "ç‰¹æ€¥"},
             {"ç™¼è»Š": "17:21", "æŠµé”": "18:10", "æ­ä¹˜æ™‚é–“": "49åˆ†", "è»Šç¨®": "æº–æ€¥"},
             {"ç™¼è»Š": "17:36", "æŠµé”": "18:05", "æ­ä¹˜æ™‚é–“": "29åˆ†", "è»Šç¨®": "Î¼-Sky"},
        ]
        
        df = pd.DataFrame(schedule_data)
        st.dataframe(
            df, 
            hide_index=True, 
            use_container_width=True,
            column_order=["ç™¼è»Š", "æŠµé”", "æ­ä¹˜æ™‚é–“", "è»Šç¨®"]
        )

    # --- Step 2: è½‰ä¹˜èˆ‡è³¼ç‰© ---
    st.subheader("2ï¸âƒ£ è½‰ä¹˜ï¼šåéµå·´å£«ä¸­å¿ƒ")
    st.markdown("""
    **å‹•ç·šæŒ‡å¼•ï¼š**
    1. åˆ°é”åéµåå¤å±‹ç«™ (B1F)
    2. æ‰¾ **[è¥¿æ”¹æœ­å£]** å‡ºç«™
    3. æ­é›»æ¢¯è‡³ **3F åéµå·´å£«ä¸­å¿ƒ**
    """)
    
    st.link_button("ğŸ“ å°èˆªï¼šåéµå·´å£«ä¸­å¿ƒ (6è™Ÿä¹˜è»Šè™•)", get_gmap_link("Meitetsu Bus Center", "walking"), type="primary")

    st.info("ğŸ± **ä»»å‹™ï¼š** åœ¨æ­¤è™•è³¼è²·é»å¿ƒã€æ™šé¤ (ç¨å¾Œè»Šä¸Šåƒ)ã€‚")

    # --- Step 3: å·´å£«å‰å¾€é‡‘æ¾¤ ---
    st.subheader("3ï¸âƒ£ é«˜é€Ÿå·´å£« â” é‡‘æ¾¤")
    st.write("ğŸšŒ **ä¹˜è»Šè™•ï¼š3æ¨“ 6è™Ÿæœˆå°**")
    st.write("é ç´„ç­æ¬¡ï¼š**17:30** æˆ– **18:30**")
    
    # --- Step 4: ä½å®¿è³‡è¨Š ---
    st.divider()
    st.subheader("ğŸ¨ ä»Šæ™šä½å®¿")
    
    with st.container(border=True):
        st.markdown("**é‡‘æ¾¤å¤§å’Œè¥¿å£**")
        st.caption("ãƒ€ã‚¤ãƒ¯ãƒ­ã‚¤ãƒãƒƒãƒˆãƒ›ãƒ†ãƒ« é‡‘æ²¢é§…è¥¿å£")
        st.markdown("---")
        st.text("ğŸ“ æ—¥ï¼šã€’920-0031 çŸ³å·çœŒé‡‘æ²¢å¸‚åºƒå²¡1-12-17")
        st.text("ğŸ“ è‹±ï¼š1-12-17 Hirooka, Kanazawa, Ishikawa")
        
        st.link_button("ğŸ—ºï¸ å¸¶æˆ‘å»é£¯åº—", get_gmap_link("Daiwa Roynet Hotel Kanazawa-Miyabi", "walking"))
